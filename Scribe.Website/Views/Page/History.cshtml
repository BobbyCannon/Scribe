@using Scribe.Models.Enumerations
@model PageHistoryView

@{
	ViewBag.Title = "Page History";
}
<h1>History for @Html.ActionLink(Model.Title, "Page", new { id = Model.Id, title = Model.TitleForLink })</h1>
<p>Click on a version number to compare the changes with version before it.</p>
<br />
<table class="expand striped">
	<thead>
		<tr>
			<th>version</th>
			<th>modified on</th>
			<th>modified by</th>
			<th>approved</th>
		</tr>
	</thead>
	<tbody>
		@foreach (var version in Model.Versions)
		{
			<tr>
				<td>@Html.ActionLink(version.Number.ToString(), "Difference", new { id = version.Id, title = Model.TitleForLink })</td>
				<td>@version.LastModified ago</td>
				<td>@version.ModifiedBy</td>
				<td>
					@if (version.ApprovalStatus != ApprovalStatus.None)
					{
						@version.ApprovalStatus
					}
				</td>
			</tr>
		}
	</tbody>
</table>
